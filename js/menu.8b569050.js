(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["menu"],{2257:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return l}));var r=n("b32d"),o=function(e){return Object(r["a"])({method:"post",url:"/boss/menu/saveOrUpdate",data:e})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return Object(r["a"])({method:"get",url:"/boss/menu/getEditMenuInfo",params:{id:e}})},a=function(){return Object(r["a"])({method:"get",url:"/boss/menu/getAll"})},u=function(e){return Object(r["a"])({method:"delete",url:"/boss/menu/".concat(e)})},i=function(){return Object(r["a"])({method:"get",url:"/boss/menu/getMenuNodeList"})},d=function(e){return Object(r["a"])({method:"post",url:"/boss/menu/allocateRoleMenus",data:e})},l=function(e){return Object(r["a"])({method:"get",url:"/boss/menu/getRoleMenus",params:{roleId:e}})}},"2f23":function(e,t,n){},"6c49":function(e,t,n){"use strict";n("2f23")},f833:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=function(e){return Object(r["pushScopeId"])("data-v-6ddf98be"),e=e(),Object(r["popScopeId"])(),e},c={class:"main-container"},a=Object(r["createTextVNode"])("添加菜单"),u=["onClick"],i=o((function(){return Object(r["createElementVNode"])("a",null,"删除",-1)}));function d(e,t,n,o,d,l){var s=Object(r["resolveComponent"])("a-button"),b=Object(r["resolveComponent"])("a-divider"),f=Object(r["resolveComponent"])("a-popconfirm"),m=Object(r["resolveComponent"])("a-table"),p=Object(r["resolveComponent"])("a-card");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",c,[Object(r["createVNode"])(p,{bordered:!1},{title:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{onClick:t[0]||(t[0]=function(t){return e.$router.push({name:"menuCreate"})})},{default:Object(r["withCtx"])((function(){return[a]})),_:1})]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{columns:e.columns,"data-source":e.menus,rowKey:"id",scroll:{x:1e3,y:e.scrollY},loading:e.loading},{index:Object(r["withCtx"])((function(e){var t=e.record;return[Object(r["createElementVNode"])("a",null,Object(r["toDisplayString"])(t),1)]})),operation:Object(r["withCtx"])((function(t){var n=t.record;return[Object(r["createElementVNode"])("span",null,[Object(r["createElementVNode"])("a",{onClick:function(t){return e.$router.push({name:"menuEdit",params:{id:n.id}})}},"编辑",8,u),Object(r["createVNode"])(b,{type:"vertical"}),e.menus.length?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:0,title:"确认删除？",onConfirm:function(t){return e.onDelete(n.id)}},{default:Object(r["withCtx"])((function(){return[i]})),_:2},1032,["onConfirm"])):Object(r["createCommentVNode"])("",!0)])]})),_:1},8,["columns","data-source","scroll","loading"])]})),_:1})])}n("380f");var l=n("f64c"),s=n("1da1"),b=n("5530"),f=(n("96cf"),n("2257")),m=[{title:"编号",dataIndex:"id",width:80},{title:"菜单名称",dataIndex:"name",width:160},{title:"菜单级数",dataIndex:"parentId",width:160},{title:"前端图标",dataIndex:"icon",width:160},{title:"排序",key:"orderNum",dataIndex:"orderNum",width:160},{title:"操作",dataIndex:"operation",fixed:"right",width:180,align:"center",slots:{customRender:"operation"}}],p=Object(r["defineComponent"])({data:function(){return{scrollY:400}},setup:function(){var e=Object(r["ref"])([]),t=Object(r["reactive"])({loading:!1});return Object(b["a"])(Object(b["a"])({},Object(r["toRefs"])(t)),{},{menus:e,columns:m})},created:function(){this.loadAllMenus()},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.tableScrollCalculate(),window.addEventListener("resize",Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.tableScrollCalculate();case 1:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})))()},methods:{loadAllMenus:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Object(f["b"])();case 4:n=t.sent,r=n.data,"000000"===r.code&&(e.menus=r.data),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](1);case 11:e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},onDelete:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(f["f"])(e);case 2:r=n.sent,o=r.data,"000000"===o.code?(l["a"].success(o.mesg),t.loadAllMenus()):l["a"].error("删除失败了，请稍后再试");case 5:case"end":return n.stop()}}),n)})))()},tableScrollCalculate:function(){var e=document.querySelector(".ant-spin-container");e&&(null===e||void 0===e?void 0:e.clientHeight)>400&&(this.scrollY=(null===e||void 0===e?void 0:e.clientHeight)-55-64)}}}),O=(n("6c49"),n("6b0d")),j=n.n(O);const h=j()(p,[["render",d],["__scopeId","data-v-6ddf98be"]]);t["default"]=h}}]);
//# sourceMappingURL=menu.8b569050.js.map